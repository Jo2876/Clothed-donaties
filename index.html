<script>
  // âœ… Prefill + minimum instellen vanuit URL, bv. ?amount=20
  const params = new URLSearchParams(window.location.search);
  const preset = params.get("amount");

  const amountInput = document.querySelector('input[name="amount"]');
  if (preset && amountInput) {
    const minVal = Number(preset);
    if (!Number.isNaN(minVal) && minVal > 0) {
      amountInput.value = String(minVal);
      amountInput.min = String(minVal); // <- dit maakt het minimumbedrag 20
    }
  }

  // bestaande submit gedrag
  document.getElementById("f").addEventListener("submit", (e) => {
    e.preventDefault();
    const fd = new FormData(e.target);
    const name = encodeURIComponent(fd.get("name"));
    const email = encodeURIComponent(fd.get("email"));
    const amount = encodeURIComponent(fd.get("amount"));
    window.location.href = `/api/start?name=${name}&email=${email}&amount=${amount}`;
  });
</script>
